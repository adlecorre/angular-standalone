<div class="container bg-white p-4 rounded shadow-sm mt-4">

    <h2 class="text-primary my-5">Gestion de personnes</h2>

    <h3 class="text-primary my-5">Ajouter une nouvelle personne</h3>
    <form (ngSubmit)="ajouter()" #form="ngForm">
    <div class="mb-3">
        <label for="nom">Nom</label>
        <input
            type="text"
            id="nom"
            class="form-control"
            [(ngModel)]="personne.nom"
            name="nom"
            #nom="ngModel"
            required
        />
        <div *ngIf="nom.invalid && nom.dirty" class="text-danger">
            Ce champ est obligatoire
        </div>
    </div>

    <div class="mb-3">
        <label for="prenom">Prénom</label>
        <input
            type="text"
            id="prenom"
            class="form-control"
            [(ngModel)]="personne.prenom"
            name="prenom"
            #prenom="ngModel"
            required
        />
        <div *ngIf="prenom.invalid && prenom.dirty" class="text-danger">
            Ce champ est obligatoire
        </div>
    </div>

    <div class="mb-3">
        <label for="age">Âge</label>
        <input
            type="number"
            id="age"
            class="form-control"
            [(ngModel)]="personne.age"
            name="age"
            #age="ngModel"
            required
            max="120"
        />
        <div *ngIf="age.invalid && age.dirty" class="text-danger">
            Ce champ est obligatoire et doit contenir une valeur inférieure à 120
        </div>
    </div>

    <button class="btn btn-primary" [disabled]="form.invalid">Ajouter</button>
</form>

<h3 class="text-primary my-5">Liste des personnes</h3>
<p *ngIf="personnes().length === 0">Aucune personne pour l'instant.</p>
<ul>
    <li *ngFor="let p of personnes(); let i = index">
        {{ p.nom }} {{ p.prenom }}
        <button (click)="supprimer(p.id)" class="btn btn-link text-danger">
            <i class="fa-solid fa-trash-can"></i>
        </button>
    </li>
    </ul>

</div>